{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "anyOf": [
    {
      "$ref": "#/definitions/StSnHelmDeploymentV1"
    },
    {
      "$ref": "#/definitions/StSnKubeDeploymentV1"
    },
    {
      "$ref": "#/definitions/StSnDockerPublishV1"
    }
  ],
  "definitions": {
    "StSnHelmDeploymentV1": {
      "$ref": "#/definitions/StSnBaseConfig<\"v1\",\"HelmDeployment\",IStSnHelmDeploymentV1>"
    },
    "StSnBaseConfig<\"v1\",\"HelmDeployment\",IStSnHelmDeploymentV1>": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "const": "v1"
        },
        "kind": {
          "type": "string",
          "const": "HelmDeployment"
        },
        "base": {
          "$ref": "#/definitions/IStSnHelmDeploymentV1"
        },
        "environments": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/IStSnHelmDeploymentV1"
          }
        }
      },
      "required": [
        "version",
        "kind",
        "base"
      ],
      "additionalProperties": false
    },
    "IStSnHelmDeploymentV1": {
      "type": "object",
      "properties": {
        "namespace": {
          "type": "string"
        }
      },
      "required": [
        "namespace"
      ],
      "additionalProperties": false
    },
    "StSnKubeDeploymentV1": {
      "$ref": "#/definitions/StSnBaseConfig<\"v1\",\"KubeDeployment\",IStSnKubeDeploymentV1>"
    },
    "StSnBaseConfig<\"v1\",\"KubeDeployment\",IStSnKubeDeploymentV1>": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "const": "v1"
        },
        "kind": {
          "type": "string",
          "const": "KubeDeployment"
        },
        "base": {
          "$ref": "#/definitions/IStSnKubeDeploymentV1"
        },
        "environments": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/IStSnKubeDeploymentV1"
          }
        }
      },
      "required": [
        "version",
        "kind",
        "base"
      ],
      "additionalProperties": false
    },
    "IStSnKubeDeploymentV1": {
      "type": "object",
      "properties": {
        "namespace": {
          "type": "string"
        },
        "directory": {
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "directory"
      ],
      "additionalProperties": false
    },
    "StSnDockerPublishV1": {
      "$ref": "#/definitions/StSnBaseConfig<\"v1\",\"DockerPublish\",IStSnDockerPublishV1>"
    },
    "StSnBaseConfig<\"v1\",\"DockerPublish\",IStSnDockerPublishV1>": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "const": "v1"
        },
        "kind": {
          "type": "string",
          "const": "DockerPublish"
        },
        "base": {
          "$ref": "#/definitions/IStSnDockerPublishV1"
        },
        "environments": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/IStSnDockerPublishV1"
          }
        }
      },
      "required": [
        "version",
        "kind",
        "base"
      ],
      "additionalProperties": false
    },
    "IStSnDockerPublishV1": {
      "type": "object",
      "properties": {
        "dockerfile": {
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}